<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>剧本生成器</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <h1>AI剧本生成器</h1>
            <p>基于OpenAI API和deepseek-r1模型</p>
        </header>

        <section id="concept-input">
            <h2>输入剧本概念</h2>
            <div class="form-group">
                <textarea id="concept" placeholder="请输入剧本概念，例如：一个关于时间旅行者的爱情故事，探讨命运与选择..."></textarea>
                <div class="style-selector">
                    <label for="style">选择剧本风格：</label>
                    <select id="style" class="style-select">
                        <option value="">请选择风格</option>
                        {% for style in styles %}
                        <option value="{{ style }}">{{ style }}</option>
                        {% endfor %}
                    </select>
                </div>
                <button id="generate-btn" class="primary-btn">生成剧本大纲</button>
            </div>
            <div id="loading-outline" class="loading-spinner hidden">
                <div class="spinner"></div>
                <p>正在生成大纲，请稍候...</p>
            </div>
        </section>

        <section id="outline-section" class="hidden">
            <h2>剧本大纲</h2>
            <div id="outline-content" class="content-box"></div>
            <div class="actions">
                <button id="regenerate-btn" class="secondary-btn">重新生成大纲</button>
            </div>
        </section>

        <section id="acts-section" class="hidden">
            <h2>生成具体剧本</h2>
            <div class="acts-container" id="acts-container">
                <!-- 幕数按钮将在JS中动态生成 -->
            </div>
        </section>

        <section id="script-section" class="hidden">
            <h2>剧本内容</h2>
            <div class="script-header">
                <h3 id="current-act-title">第1幕</h3>
                <div class="act-navigation">
                    <button id="prev-act-btn" class="nav-btn" disabled>上一幕</button>
                    <button id="next-act-btn" class="nav-btn">下一幕</button>
                </div>
            </div>
            <div id="loading-script" class="loading-spinner hidden">
                <div class="spinner"></div>
                <p>正在生成剧本，请稍候...</p>
            </div>
            <div id="script-content" class="content-box script-content"></div>
        </section>
    </div>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html> 